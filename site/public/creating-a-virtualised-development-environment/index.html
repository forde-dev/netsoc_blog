<!DOCTYPE html>
<html lang="en-US" />
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Creating a Virtualised Development Environment &middot; </title>

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="canonical" href="/creating-a-virtualised-development-environment/" />

     <meta name="description" content="Creating A Virtualised Development Environment Vagrant and VirtualBox For our development environment, we‚Äôre going to want a way to easily simulate an ubuntu/li" /> 

     
    
    <meta name="twitter:card" content="summary"/>
    
 
    <meta name="twitter:title" content="Creating a Virtualised Development Environment"/>
    <meta name="twitter:description" content="Creating A Virtualised Development Environment Vagrant and VirtualBox For our development environment, we‚Äôre going to want a way to easily simulate an ubuntu/li"/>
    <meta name="twitter:url" content="/creating-a-virtualised-development-environment/" />
    <meta name="twitter:site" content="@uccnetsoc"/>

    <meta property="og:site_name" content="" />
    <meta property="og:title" content="Creating a Virtualised Development Environment &middot; Netsoc Dev Blog" />
    <meta property="og:url" content="/creating-a-virtualised-development-environment/" />
    <meta property="article:publisher" content="https://www.facebook.com/NetsocUCC" />

    <meta property="og:type" content="article" />
    <meta property="og:description" content="Creating A Virtualised Development Environment Vagrant and VirtualBox For our development environment, we‚Äôre going to want a way to easily simulate an ubuntu/li" />

    <meta property="article:published_time" content="2018-11-30T16:52:29Z" />
    <meta property="article:tag" content="tutorials" />

    <meta property="og:image" content="/img/background.jpg"/>

    <meta name="generator" content="Hugo 0.53" />

    <!-- Stylesheets -->
    <link rel="stylesheet" type="text/css" href="/built/screen.css" /> 
    <link rel="stylesheet" type="text/css" href="/css/casper-two.css" /> 
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" />
    

     

</head>


<body class="post-template">
  <div class="site-wrapper"> 

<header class="site-header outer">
  <div class="inner">
    <nav class="site-nav">
      <div class="site-nav-left">
        <a class="site-nav-logo" href="#"><img src="/img/netsoc.png" alt="Netsoc Dev Blog" /></a>

        <ul class="nav" role="menu">
        
        
        
            <li class="" role="menuitem">
              <a href="/">Home</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/tags/tutorials/">Tutorials</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/tags/dev/">Dev Projects</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="https://bigbertha.netsoc.co/wiki/index.php/Main_Page">Wiki</a>
            </li>
        
      </ul></div>

      <div class="site-nav-right">
        <div class="social-links">
                    <a class="social-link social-link-fb" href="https://www.facebook.com/NetsocUCC" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg></a>

                    <a class="social-link social-link-tw" href="https://twitter.com/uccnetsoc" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg></a>

                    <a class="social-link" href="https://github.com/UCCNetworkingSociety" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a>

                    

                    
        </div>  
            
      </div>

    </nav>  

  </div>
</header>

<main id="site-main" class="site-main outer" role="main">
  <div class="inner">
    
      <article class="post-full post"> 
    <header class="post-full-header">
        <section class="post-full-meta">
            <time class="post-full-meta-date" datetime="2018-11-30">30 November 2018</time>
                <span class="date-divider">/</span> <a href="/tags/tutorials/">#tutorials</a>&nbsp;
        </section>
        <h1 class="post-full-title">Creating a Virtualised Development Environment</h1>
    </header>
    
    <figure class="post-full-image" style="background-image: url(/defimg/1.jpg)">
    </figure>

    <section class="post-full-content">
        <div class="kg-card-markdown">
        

<h1 id="creating-a-virtualised-development-environment">Creating A Virtualised Development Environment</h1>

<h3 id="vagrant-and-virtualbox">Vagrant and VirtualBox</h3>

<p>For our development environment, we‚Äôre going to want a way to easily simulate an ubuntu/linux server as well as an easy way to interact with it when we need to make changes. That‚Äôs where Vagrant and VirtualBox come in üòâ</p>

<h4 id="virtualbox">VirtualBox</h4>

<p>VirtualBox is a cross-platform virtualization application. It allows us to simulate having an operating system without having to use a physical computer for it. It‚Äôs also handy to simulate specific types of environments while also keeping your main machine secure and uncluttered. We‚Äôll be using VirtualBox as our virtualization component in this tutorial.</p>

<p>You can download VirtualBox for your platform at <a href="https://www.VirtualBox.org/wiki/Downloads">https://www.VirtualBox.org/wiki/Downloads</a></p>

<h4 id="vagrant">Vagrant</h4>

<p>Vagrant is a tool that sits on top of VirtualBox (or VMWare or AWS) and gives us an easy way to provision and interact with virtualized Operating Systems without having to manually configure them ourselves (well, you won‚Äôt anyway). It‚Äôs a handy way to use pre-built ‚Äúboxes‚Äù to quickly set up and destroy dev environments.</p>

<p>You can download Vagrant for your platform at <a href="http://www.vagrantup.com/downloads">http://www.vagrantup.com/downloads</a></p>

<h3 id="using-our-box">Using Our Box</h3>

<p>We‚Äôve handily made a pre-built box for you to get up and running yourself. After you‚Äôve installed virtualbox and vagrant, follow the below instructions to get our box up and running for you.</p>

<p>First, open Terminal (OSX or Linux) or Command Prompt (Windows) and <code>cd</code> (change directory) into a folder you‚Äôve created for your development environment. Then execute the following commands:</p>

<pre><code class="language-bash"># Adds the box permanently to our collection as well as downloads it
vagrant box add Netsoc https://netsoc.co/netsoc_boxes.json

# Prepares the current directory with a Vagrantfile (a config file)
vagrant init Netsoc

# Launches the Virtual Machine
vagrant up

# Shutdown the Virtual Machine
vagrant destroy
</code></pre>

<p>It may take a while for the file to download and then again when you launch the machine but now there‚Äôs only one last step to our vagrant setup and that‚Äôs the custom Vagrantfile. Simply open the Vagrantfile in your directory, replace the content with the content below and you‚Äôre good to go!</p>

<p>There are comments at every step in the code below but if you need a further explanation, you can find out more from the <a href="https://www.vagrantup.com/docs/vagrantfile/index.html">vagrant documentation</a></p>

<pre><code class="language-ruby">project_name = &quot;netsoc&quot;
ip_address = &quot;172.22.22.22&quot;

# Begin our configuration using V2 of the API
Vagrant.configure(2) do |config|
  
  config.vm.box = &quot;Netsoc&quot;

  # Configuration for our virtualisation provider
  config.vm.provider &quot;VirtualBox&quot; do |vb|
     # Memory (RAM) capped at 1024mb
    vb.customize [&quot;modifyvm&quot;, :id, &quot;--memory&quot;, &quot;1024&quot;]
  end

  # Give our new VM a fake IP Address and domain name
  # To utilise this, add the following to your /etc/hosts file
  #   172.22.22.22 netsoc.dev
  config.vm.define project_name do |node|
    node.vm.hostname = project_name + &quot;.dev&quot;
    node.vm.network :private_network, ip: ip_address
  end

  # Sync the containing folder to the web directory of the VM
  #   The sync will persist as you edit files, you won't have
  #   to destroy and re-up the VM each time you make a change
  #   
  config.vm.synced_folder &quot;./&quot;, &quot;/var/www/html&quot;, :owner=&amp;gt; 'www-data', :group=&amp;gt;'www-data'
end
</code></pre>

<p>If you‚Äôre on Linux/OSXc you can now SSH into your box with <code>vagrant ssh</code>. If you‚Äôre on windows however, there are two options:</p>

<ol>
<li>If you have Git installed (which you really should and can download here), you simply issue set PATH=%PATH%;C:\Program Files (x86)\Git\bin in the CMD you have open. For reference, this fix comes from this Github issue</li>
<li>Otherwise, you can use Pageant and Putty. I‚Äôm not going to cover it here but there is a guide available</li>
</ol>

<h3 id="what-s-in-the-box">What‚Äôs In The Box?</h3>

<p>Our box is made ideally for web development and sysadmin tutorials we‚Äôll be doing throughout the year. Installed in the box is:</p>

<ol>
<li>Apache2</li>
<li>PHP 5.6</li>
<li>MySQL</li>
<li>Composer &amp; LAravel</li>
</ol>

<h3 id="how-we-made-our-box">How We Made Our Box</h3>

<p>Our box was made in an OSX environment.</p>

<pre><code class="language-bash">mkdir vagrant_test
cd vagrant_test

vagrant box add http://cloud-images.ubuntu.com/vagrant/trusty/current/trusty-server-cloudimg-amd64-vagrant-disk1.box --name=Ubuntu14.04
vagrant init Ubuntu14.04
vagrant up

# Log in to the box
vagrant ssh

	sudo apt-get update
	sudo apt-get install lamp-server^

	## Chose mysql password: root

	#Install PHP 5.6 over the 5.5.9 installed by default
	sudo add-apt-repository ppa:ondrej/php5-5.6
	sudo apt-get update
	sudo apt-get install python-software-properties
	sudo apt-get install php5

	#Install composer
	curl -sS https://getcomposer.org/installer | php
	sudo mv composer.phar /usr/local/bin/composer

	#Install laravel
	composer global require &quot;laravel/installer=~1.1&quot;

	echo 'export PATH=&quot;$PATH:~/.composer/vendor/bin&quot;' &amp;gt;&amp;gt; .profile
	. .profile
	# We won't create a laravel blog here as this is supposed to be an empty box.
	# If you want to test laravel, type &quot;laravel new blog&quot; and check for a
	# &quot;blog&quot; directory.

	#Allow .htaccess in apache
	cd /etc/apache2
	sudo vi apache2.conf

	# Look for the following: 
	# &amp;lt;Directory /var/www/&amp;gt;
	#         Options Indexes FollowSymLinks
	#         AllowOverride none
	#         Require all granted
	# &amp;lt;/Directory&amp;gt;
	#
	# and change to:
	# &amp;lt;Directory /var/www/&amp;gt;
	#	        Options Indexes FollowSymLinks
	#	        AllowOverride All
	#	        Require all granted
	# &amp;lt;/Directory&amp;gt;

	sudo service apache2 restart

	# Enable Mod_Rewrite for rewriting URLs
    sudo a2enmod rewrite
    sudo service apache2 restart

	# This may or may not be required as I've heard mixed opinions but 
	# we had to re-install the Virtualbox guest additions again otherwise
	# SSH would fail on vagrant up in the re-packaged box
	cd ~
	sudo apt-get install linux-headers-generic build-essential dkms
	sudo apt-get -y -q purge virtualbox-guest-dkms virtualbox-guest-utils virtualbox-guest-x11
	wget http://dlc-cdn.sun.com/virtualbox/4.3.8/VBoxGuestAdditions_4.3.8.iso
	sudo mkdir /media/VBoxGuestAdditions
	sudo mount -o loop,ro VBoxGuestAdditions_4.3.8.iso /media/VBoxGuestAdditions
	sudo sh /media/VBoxGuestAdditions/VBoxLinuxAdditions.run
	rm VBoxGuestAdditions_4.3.8.iso
	sudo umount /media/VBoxGuestAdditions
	sudo rmdir /media/VBoxGuestAdditions

	# Exit the VM
	logout
	
# Packages a running vagrant box
vagrant package --output Netsoc.box
	
# Leave the current directory and create a blank one
# just to be sure we're starting anew
cd ../
mkdir netsoc_test
cd netsoc_test

# Add the box and launch it
vagrant box add Netsoc.box --name=Netsoc
vagrant init Netsoc
vagrant up
vagrant ssh
	#Success
vagrant destroy
</code></pre>

<h3 id="debugging">Debugging</h3>

<p>In the event that you begin to get an ‚Äúauthentication failure‚Äù when vagrant upping, you can still ssh into the box with the user ‚Äúvagrant‚Äù and password ‚Äúvagrant using the following command:</p>

<pre><code class="language-bash">ssh vagrant@localhost -p 2222
</code></pre>
    
        </div>
    </section>

    <footer class="post-full-footer">
      <section class="author-card">
        <img class="author-profile-image" src="/netsoc_black.jpg" alt="Author" />
        <section class="author-card-content">
            <h4 class="author-card-name"><a href="/">Evan Smith</a></h4>
                <p>UCC Networking and Technology Society</p>
        </section>
      </section>
    </footer>
</article>
    
    
    

  </div>
</main>


<aside class="read-next outer">
  <div class="inner">
    <div class="read-next-feed">      
      

      
      <article class="post-card post"> 
    
    <a class="post-card-image-link" href="/building-netsoc-admin-part-1/">
      <div class="post-card-image" style="background-image: url(/defimg/2.jpg)"></div>
    </a>    
    

    <div class="post-card-content">
      <a class="post-card-content-link" href="/building-netsoc-admin-part-1/">
          <header class="post-card-header">
              <span class="post-card-tags">
              #dev  </span>
              
              <h2 class="post-card-title">Building Netsoc Admin Part 1</h2>
          </header>
          <section class="post-card-excerpt">
              
                <p>Building Netsoc Admin (#1) ‚Äì Development Tools Introduction Last September we (UCC Netsoc) installed two servers and dedicated one of them specifically to servicing our members and their applications. It allows people to SSH in and run PHP, python and JS-based apps off each user‚Äôs subdomain. We wanted people to be able to manage their own info, databases and could access automated backups. After a month of looking at web panels and various solutions, it was apparent that what we wanted didn‚Äôt exist in a pre-built package unfortunately. ...  </p>
              
          </section>
      </a>

      <footer class="post-card-meta">
          <img class="author-profile-image" src="/netsoc_black.jpg" alt="Author" />
          <span class="post-card-author"><a href="/">Evan Smith</a></span>
      </footer>
    </div>
</article>
      
      
      <article class="post-card post"> 
    
    <a class="post-card-image-link" href="/irc-connecting-to-intersocs/">
      <div class="post-card-image" style="background-image: url(/defimg/7.jpg)"></div>
    </a>    
    

    <div class="post-card-content">
      <a class="post-card-content-link" href="/irc-connecting-to-intersocs/">
          <header class="post-card-header">
              <span class="post-card-tags">
              #tutorials  </span>
              
              <h2 class="post-card-title">IRC - Connecting to Intersocs</h2>
          </header>
          <section class="post-card-excerpt">
              
                <p>IRC ‚Äì Connecting To #Intersocs User Accounts If you do not already have a user account for UCC Netsoc‚Äôs services, sign up at https://admin.netsoc.co/register
You will need a user account before continuing with this document.
Quickstart If this is your first time, please read the entirety of the document as we do not provide support as of yet.
 SSH into Leela with your user credentials: ssh USERNAME@leela.netsoc.co Access your Weechat IRC screen: irc /connect netsoc. ...  </p>
              
          </section>
      </a>

      <footer class="post-card-meta">
          <img class="author-profile-image" src="/netsoc_black.jpg" alt="Author" />
          <span class="post-card-author"><a href="/">Evan Smith</a></span>
      </footer>
    </div>
</article>
      
    </div>
  </div>
</aside>

<div class="floating-header">
  <div class="floating-header-logo">
    <a href="/">
      <img src="/img/netsoc.png" alt="" />
      <span></span>
    </a>
  </div>
  <span class="floating-header-divider">&mdash;</span>
  <div class="floating-header-title">Creating a Virtualised Development Environment</div>
  <div class="floating-header-share">
    <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
     <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/></svg>
    </div>
    
    <a class="floating-header-share-tw" href="https://twitter.com/share?text=Creating%20a%20Virtualised%20Development%20Environment&amp;url=%2fcreating-a-virtualised-development-environment%2f"
          onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
      </a>
      <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=%2fcreating-a-virtualised-development-environment%2f"
          onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>
      </a>
  </div>

  <progress class="progress" value="0">
    <div class="progress-container">
      <span class="progress-bar"></span>
    </div>
  </progress>
</div>



<footer class="site-footer outer">
  <div class="site-footer-content inner">
    <section class="copyright" style="line-height: 1.3em;">
      <a href="/">UCCNetsoc</a> ¬© 2018 UCC Networking Society. All rights reserved. Theme is Casper, Website Created by Michael Forde <br>
      
    </section>
    <nav class="site-footer-nav">
        <a href="/">Latest Posts</a>
        <a href="https://www.facebook.com/NetsocUCC" target="_blank" rel="noopener">Facebook</a>
        <a href="https://twitter.com/uccnetsoc" target="_blank" rel="noopener">Twitter</a>
        <a href="https://github.com/UCCNetworkingSociety" target="_blank" rel="noopener">Github</a>
        
        
    </nav>  
  </div>
</footer>

</div>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script type="text/javascript" src="//code.jquery.com/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="/js/jquery.fitvids.js"></script>

<script>hljs.initHighlightingOnLoad();</script>



    <script>





$(document).ready(function () {
    
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>
</body></html>
